{% extends '__base__.html' %}

{% block title %}添加账号{% endblock %}

{% block beforehead %}

    <script>
        var
            action = '{{ action }}',
            redirect = '{{ redirect }}';
        var vm;

        $(function () {
            vm = new Vue({
                el: '#form-blog',
                data: {
                    name: '',
                    summary: '',
                    content: ''
                },
                methods: {
                    submit: function (event) {
                        event.preventDefault();
                        postApi(action, this.$data, function (err, r) {
                            if (err) {
                                alert(err);
                            } else {
                                alert('保存成功！');
                                return location.assign(redirect);
                            }
                        });
                    }
                }
            });
        });

    </script>

{% endblock %}

{% block content %}
    <div class="uk-width-1-1 uk-margin-bottom">
        <div class="uk-panel uk-panel-box">
            <ul class="uk-breadcrumb">
                <li><span>账号</span></li>
                <li class="uk-active"><span>添加</span></li>
            </ul>
        </div>
    </div>

    <div class="uk-width-1-1">
        <div class="uk-alert uk-alert-danger uk-hidden"></div>
    </div>
    <div class="uk-width-1-1">
        <form id="form-blog" v-on="submit:submit" class="uk-form uk-form-horizontal">
            <div class="uk-form-row">
                <label class="uk-form-label">名称：</label>
                <div class="uk-form-controls">
                    <input v-model="name" class="uk-width-1-1" placeholder="名称">
                </div>
            </div>
            <div class="uk-form-row">
                <label class="uk-form-label">url：</label>
                <div class="uk-form-controls">
                    <input v-model="url" rows='1' class="uk-width-1-1" placeholder="url"></input>
                </div>
            </div>
            <div class="uk-form-row">
                <label class="uk-form-label">账号：</label>
                <div class="uk-form-controls">
                    <input v-model="accname" rows='1' class="uk-width-1-1" placeholder="账号"></input>
                </div>
            </div>
            <div class="uk-form-row">
                <label class="uk-form-label">密码：</label>
                <div class="uk-form-controls">
                    <input v-model="passwd" rows='1' class="uk-width-1-1" placeholder="密码"></input>
                </div>
            </div>
            <div class="uk-form-row">
                <label class="uk-form-label">对所有人可见：</label>
                <div class="uk-form-controls">
                    <select v-model="admin">
                        <option value="0">是</option>
                        <option value="1">否</option>
                    </select>
                </div>
            </div>
            <div class="uk-form-row">
                <label class="uk-form-label">详细描述：</label>
                <div class="uk-form-controls">
                    <textarea v-model="detail" rows='3' class="uk-width-1-1" placeholder="详细描述"></textarea>
                </div>
            </div>
            <div class="uk-form-row">
                <button type="submit" class="uk-button uk-button-primary">保存</button>
                <a type="button" class="uk-button uk-button-primary" href="/manage/accounts">返回</a>
            </div>
        </form>
    </div>
{% endblock %}




















